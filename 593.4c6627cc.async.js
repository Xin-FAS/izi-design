"use strict";(self.webpackChunkizid=self.webpackChunkizid||[]).push([[593],{86128:function(ft,He,g){g.d(He,{Z:function(){return re}});var Oe=g(87462),G=g(4942),V=g(1413),ye=g(97685),xe=g(91),Y=g(67294),B=g(93967),se=g.n(B),Ze=g(64217),Z=g(27822),ne=function(a){for(var D=a.prefixCls,M=a.level,P=a.isStart,I=a.isEnd,F="".concat(D,"-indent-unit"),J=[],T=0;T<M;T+=1)J.push(Y.createElement("span",{key:T,className:se()(F,(0,G.Z)((0,G.Z)({},"".concat(F,"-start"),P[T]),"".concat(F,"-end"),I[T]))}));return Y.createElement("span",{"aria-hidden":"true",className:"".concat(D,"-indent")},J)},c=Y.memo(ne),q=g(35381),ie=g(1089),Pe=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],w="open",ke="close",Te="---",ve=function(a){var D,M,P,I=a.eventKey,F=a.className,J=a.style,T=a.dragOver,le=a.dragOverGapTop,Ke=a.dragOverGapBottom,ce=a.isLeaf,ae=a.isStart,he=a.isEnd,Q=a.expanded,pe=a.selected,ge=a.checked,Se=a.halfChecked,De=a.loading,ee=a.domRef,Ue=a.active,Ce=a.data,Xe=a.onMouseMove,Ve=a.selectable,it=(0,xe.Z)(a,Pe),f=Y.useContext(Z.k),X=Y.useContext(Z.y),_e=Y.useRef(null),Je=Y.useState(!1),Qe=(0,ye.Z)(Je,2),s=Qe[0],R=Qe[1],N=!!(f.disabled||a.disabled||(D=X.nodeDisabled)!==null&&D!==void 0&&D.call(X,Ce)),o=Y.useMemo(function(){return!f.checkable||a.checkable===!1?!1:f.checkable},[f.checkable,a.checkable]),S=function(b){N||f.onNodeSelect(b,(0,ie.F)(a))},E=function(b){N||!o||a.disableCheckbox||f.onNodeCheck(b,(0,ie.F)(a),!ge)},e=Y.useMemo(function(){return typeof Ve=="boolean"?Ve:f.selectable},[Ve,f.selectable]),d=function(b){f.onNodeClick(b,(0,ie.F)(a)),e?S(b):E(b)},m=function(b){f.onNodeDoubleClick(b,(0,ie.F)(a))},x=function(b){f.onNodeMouseEnter(b,(0,ie.F)(a))},n=function(b){f.onNodeMouseLeave(b,(0,ie.F)(a))},r=function(b){f.onNodeContextMenu(b,(0,ie.F)(a))},t=Y.useMemo(function(){return!!(f.draggable&&(!f.draggable.nodeDraggable||f.draggable.nodeDraggable(Ce)))},[f.draggable,Ce]),l=function(b){b.stopPropagation(),R(!0),f.onNodeDragStart(b,a);try{b.dataTransfer.setData("text/plain","")}catch(te){}},u=function(b){b.preventDefault(),b.stopPropagation(),f.onNodeDragEnter(b,a)},v=function(b){b.preventDefault(),b.stopPropagation(),f.onNodeDragOver(b,a)},K=function(b){b.stopPropagation(),f.onNodeDragLeave(b,a)},C=function(b){b.stopPropagation(),R(!1),f.onNodeDragEnd(b,a)},y=function(b){b.preventDefault(),b.stopPropagation(),R(!1),f.onNodeDrop(b,a)},h=function(b){De||f.onNodeExpand(b,(0,ie.F)(a))},p=Y.useMemo(function(){var z=(0,q.Z)(f.keyEntities,I)||{},b=z.children;return!!(b||[]).length},[f.keyEntities,I]),A=Y.useMemo(function(){return ce===!1?!1:ce||!f.loadData&&!p||f.loadData&&a.loaded&&!p},[ce,f.loadData,p,a.loaded]);Y.useEffect(function(){De||typeof f.loadData=="function"&&Q&&!A&&!a.loaded&&f.onNodeLoad((0,ie.F)(a))},[De,f.loadData,f.onNodeLoad,Q,A,a]);var O=Y.useMemo(function(){var z;return(z=f.draggable)!==null&&z!==void 0&&z.icon?Y.createElement("span",{className:"".concat(f.prefixCls,"-draggable-icon")},f.draggable.icon):null},[f.draggable]),k=function(b){var te=a.switcherIcon||f.switcherIcon;return typeof te=="function"?te((0,V.Z)((0,V.Z)({},a),{},{isLeaf:b})):te},W=function(){if(A){var b=k(!0);return b!==!1?Y.createElement("span",{className:se()("".concat(f.prefixCls,"-switcher"),"".concat(f.prefixCls,"-switcher-noop"))},b):null}var te=k(!1);return te!==!1?Y.createElement("span",{onClick:h,className:se()("".concat(f.prefixCls,"-switcher"),"".concat(f.prefixCls,"-switcher_").concat(Q?w:ke))},te):null},H=Y.useMemo(function(){if(!o)return null;var z=typeof o!="boolean"?o:null;return Y.createElement("span",{className:se()("".concat(f.prefixCls,"-checkbox"),(0,G.Z)((0,G.Z)((0,G.Z)({},"".concat(f.prefixCls,"-checkbox-checked"),ge),"".concat(f.prefixCls,"-checkbox-indeterminate"),!ge&&Se),"".concat(f.prefixCls,"-checkbox-disabled"),N||a.disableCheckbox)),onClick:E,role:"checkbox","aria-checked":Se?"mixed":ge,"aria-disabled":N||a.disableCheckbox,"aria-label":"Select ".concat(typeof a.title=="string"?a.title:"tree node")},z)},[o,ge,Se,N,a.disableCheckbox,a.title]),U=Y.useMemo(function(){return A?null:Q?w:ke},[A,Q]),j=Y.useMemo(function(){return Y.createElement("span",{className:se()("".concat(f.prefixCls,"-iconEle"),"".concat(f.prefixCls,"-icon__").concat(U||"docu"),(0,G.Z)({},"".concat(f.prefixCls,"-icon_loading"),De))})},[f.prefixCls,U,De]),oe=Y.useMemo(function(){var z=!!f.draggable,b=!a.disabled&&z&&f.dragOverNodeKey===I;return b?f.dropIndicatorRender({dropPosition:f.dropPosition,dropLevelOffset:f.dropLevelOffset,indent:f.indent,prefixCls:f.prefixCls,direction:f.direction}):null},[f.dropPosition,f.dropLevelOffset,f.indent,f.prefixCls,f.direction,f.draggable,f.dragOverNodeKey,f.dropIndicatorRender]),de=Y.useMemo(function(){var z=a.title,b=z===void 0?Te:z,te="".concat(f.prefixCls,"-node-content-wrapper"),Ie;if(f.showIcon){var je=a.icon||f.icon;Ie=je?Y.createElement("span",{className:se()("".concat(f.prefixCls,"-iconEle"),"".concat(f.prefixCls,"-icon__customize"))},typeof je=="function"?je(a):je):j}else f.loadData&&De&&(Ie=j);var Ge;return typeof b=="function"?Ge=b(Ce):f.titleRender?Ge=f.titleRender(Ce):Ge=b,Y.createElement("span",{ref:_e,title:typeof b=="string"?b:"",className:se()(te,"".concat(te,"-").concat(U||"normal"),(0,G.Z)({},"".concat(f.prefixCls,"-node-selected"),!N&&(pe||s))),onMouseEnter:x,onMouseLeave:n,onContextMenu:r,onClick:d,onDoubleClick:m},Ie,Y.createElement("span",{className:"".concat(f.prefixCls,"-title")},Ge),oe)},[f.prefixCls,f.showIcon,a,f.icon,j,f.titleRender,Ce,U,x,n,r,d,m]),ue=(0,Ze.Z)(it,{aria:!0,data:!0}),me=(0,q.Z)(f.keyEntities,I)||{},fe=me.level,be=he[he.length-1],Ee=!N&&t,ze=f.draggingNodeKey===I,we=Ve!==void 0?{"aria-selected":!!Ve}:void 0;return Y.createElement("div",(0,Oe.Z)({ref:ee,role:"treeitem","aria-expanded":ce?void 0:Q,className:se()(F,"".concat(f.prefixCls,"-treenode"),(P={},(0,G.Z)((0,G.Z)((0,G.Z)((0,G.Z)((0,G.Z)((0,G.Z)((0,G.Z)((0,G.Z)((0,G.Z)((0,G.Z)(P,"".concat(f.prefixCls,"-treenode-disabled"),N),"".concat(f.prefixCls,"-treenode-switcher-").concat(Q?"open":"close"),!ce),"".concat(f.prefixCls,"-treenode-checkbox-checked"),ge),"".concat(f.prefixCls,"-treenode-checkbox-indeterminate"),Se),"".concat(f.prefixCls,"-treenode-selected"),pe),"".concat(f.prefixCls,"-treenode-loading"),De),"".concat(f.prefixCls,"-treenode-active"),Ue),"".concat(f.prefixCls,"-treenode-leaf-last"),be),"".concat(f.prefixCls,"-treenode-draggable"),t),"dragging",ze),(0,G.Z)((0,G.Z)((0,G.Z)((0,G.Z)((0,G.Z)((0,G.Z)((0,G.Z)(P,"drop-target",f.dropTargetKey===I),"drop-container",f.dropContainerKey===I),"drag-over",!N&&T),"drag-over-gap-top",!N&&le),"drag-over-gap-bottom",!N&&Ke),"filter-node",(M=f.filterTreeNode)===null||M===void 0?void 0:M.call(f,(0,ie.F)(a))),"".concat(f.prefixCls,"-treenode-leaf"),A))),style:J,draggable:Ee,onDragStart:Ee?l:void 0,onDragEnter:t?u:void 0,onDragOver:t?v:void 0,onDragLeave:t?K:void 0,onDrop:t?y:void 0,onDragEnd:t?C:void 0,onMouseMove:Xe},we,ue),Y.createElement(c,{prefixCls:f.prefixCls,level:fe,isStart:ae,isEnd:he}),O,W(),H,de)};ve.isTreeNode=1;var re=ve},27822:function(ft,He,g){g.d(He,{k:function(){return G},y:function(){return V}});var Oe=g(67294),G=Oe.createContext(null),V=Oe.createContext({})},70593:function(ft,He,g){g.d(He,{OF:function(){return I.Z},y6:function(){return ke.y},ZP:function(){return N}});var Oe=g(87462),G=g(71002),V=g(1413),ye=g(74902),xe=g(15671),Y=g(43144),B=g(97326),se=g(60136),Ze=g(29388),Z=g(4942),ne=g(93967),c=g.n(ne),q=g(15105),ie=g(64217),Pe=g(80334),w=g(67294),ke=g(27822),Te=function(S){var E=S.dropPosition,e=S.dropLevelOffset,d=S.indent,m={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(E){case-1:m.top=0,m.left=-e*d;break;case 1:m.bottom=0,m.left=-e*d;break;case 0:m.bottom=0,m.left=d;break}return w.createElement("div",{style:m})},ve=Te;function re(o){if(o==null)throw new TypeError("Cannot destructure "+o)}var i=g(97685),a=g(91),D=g(8410),M=g(87718),P=g(29372),I=g(86128);function F(o,S){var E=w.useState(!1),e=(0,i.Z)(E,2),d=e[0],m=e[1];(0,D.Z)(function(){if(d)return o(),function(){S()}},[d]),(0,D.Z)(function(){return m(!0),function(){m(!1)}},[])}var J=F,T=g(1089),le=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],Ke=w.forwardRef(function(o,S){var E=o.className,e=o.style,d=o.motion,m=o.motionNodes,x=o.motionType,n=o.onMotionStart,r=o.onMotionEnd,t=o.active,l=o.treeNodeRequiredProps,u=(0,a.Z)(o,le),v=w.useState(!0),K=(0,i.Z)(v,2),C=K[0],y=K[1],h=w.useContext(ke.k),p=h.prefixCls,A=m&&x!=="hide";(0,D.Z)(function(){m&&A!==C&&y(A)},[m]);var O=function(){m&&n()},k=w.useRef(!1),W=function(){m&&!k.current&&(k.current=!0,r())};J(O,W);var H=function(j){A===j&&W()};return m?w.createElement(P.ZP,(0,Oe.Z)({ref:S,visible:C},d,{motionAppear:x==="show",onVisibleChanged:H}),function(U,j){var oe=U.className,de=U.style;return w.createElement("div",{ref:j,className:c()("".concat(p,"-treenode-motion"),oe),style:de},m.map(function(ue){var me=Object.assign({},(re(ue.data),ue.data)),fe=ue.title,be=ue.key,Ee=ue.isStart,ze=ue.isEnd;delete me.children;var we=(0,T.H8)(be,l);return w.createElement(I.Z,(0,Oe.Z)({},me,we,{title:fe,active:t,data:ue.data,key:be,isStart:Ee,isEnd:ze}))}))}):w.createElement(I.Z,(0,Oe.Z)({domRef:S,className:E,style:e},u,{active:t}))}),ce=Ke;function ae(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],E=o.length,e=S.length;if(Math.abs(E-e)!==1)return{add:!1,key:null};function d(m,x){var n=new Map;m.forEach(function(t){n.set(t,!0)});var r=x.filter(function(t){return!n.has(t)});return r.length===1?r[0]:null}return E<e?{add:!0,key:d(o,S)}:{add:!1,key:d(S,o)}}function he(o,S,E){var e=o.findIndex(function(n){return n.key===E}),d=o[e+1],m=S.findIndex(function(n){return n.key===E});if(d){var x=S.findIndex(function(n){return n.key===d.key});return S.slice(m+1,x)}return S.slice(m+1)}var Q=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","scrollWidth","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],pe={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},ge=function(){},Se="RC_TREE_MOTION_".concat(Math.random()),De={key:Se},ee={key:Se,level:0,index:0,pos:"0",node:De,nodes:[De]},Ue={parent:null,children:[],pos:ee.pos,data:De,title:null,key:Se,isStart:[],isEnd:[]};function Ce(o,S,E,e){return S===!1||!E?o:o.slice(0,Math.ceil(E/e)+1)}function Xe(o){var S=o.key,E=o.pos;return(0,T.km)(S,E)}function Ve(o){for(var S=String(o.data.key),E=o;E.parent;)E=E.parent,S="".concat(E.data.key," > ").concat(S);return S}var it=w.forwardRef(function(o,S){var E=o.prefixCls,e=o.data,d=o.selectable,m=o.checkable,x=o.expandedKeys,n=o.selectedKeys,r=o.checkedKeys,t=o.loadedKeys,l=o.loadingKeys,u=o.halfCheckedKeys,v=o.keyEntities,K=o.disabled,C=o.dragging,y=o.dragOverNodeKey,h=o.dropPosition,p=o.motion,A=o.height,O=o.itemHeight,k=o.virtual,W=o.scrollWidth,H=o.focusable,U=o.activeItem,j=o.focused,oe=o.tabIndex,de=o.onKeyDown,ue=o.onFocus,me=o.onBlur,fe=o.onActiveChange,be=o.onListChangeStart,Ee=o.onListChangeEnd,ze=(0,a.Z)(o,Q),we=w.useRef(null),z=w.useRef(null);w.useImperativeHandle(S,function(){return{scrollTo:function(We){we.current.scrollTo(We)},getIndentWidth:function(){return z.current.offsetWidth}}});var b=w.useState(x),te=(0,i.Z)(b,2),Ie=te[0],je=te[1],Ge=w.useState(e),lt=(0,i.Z)(Ge,2),$e=lt[0],Be=lt[1],dt=w.useState(e),Ae=(0,i.Z)(dt,2),Le=Ae[0],Re=Ae[1],Ye=w.useState([]),rt=(0,i.Z)(Ye,2),ct=rt[0],vt=rt[1],St=w.useState(null),ht=(0,i.Z)(St,2),gt=ht[0],yt=ht[1],qe=w.useRef(e);qe.current=e;function at(){var Ne=qe.current;Be(Ne),Re(Ne),vt([]),yt(null),Ee()}(0,D.Z)(function(){je(x);var Ne=ae(Ie,x);if(Ne.key!==null)if(Ne.add){var We=$e.findIndex(function(Et){var ut=Et.key;return ut===Ne.key}),et=Ce(he($e,e,Ne.key),k,A,O),tt=$e.slice();tt.splice(We+1,0,Ue),Re(tt),vt(et),yt("show")}else{var nt=e.findIndex(function(Et){var ut=Et.key;return ut===Ne.key}),st=Ce(he(e,$e,Ne.key),k,A,O),mt=e.slice();mt.splice(nt+1,0,Ue),Re(mt),vt(st),yt("hide")}else $e!==e&&(Be(e),Re(e))},[x,e]),w.useEffect(function(){C||at()},[C]);var xt=p?Le:e,pt={expandedKeys:x,selectedKeys:n,loadedKeys:t,loadingKeys:l,checkedKeys:r,halfCheckedKeys:u,dragOverNodeKey:y,dropPosition:h,keyEntities:v};return w.createElement(w.Fragment,null,j&&U&&w.createElement("span",{style:pe,"aria-live":"assertive"},Ve(U)),w.createElement("div",null,w.createElement("input",{style:pe,disabled:H===!1||K,tabIndex:H!==!1?oe:null,onKeyDown:de,onFocus:ue,onBlur:me,value:"",onChange:ge,"aria-label":"for screen reader"})),w.createElement("div",{className:"".concat(E,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},w.createElement("div",{className:"".concat(E,"-indent")},w.createElement("div",{ref:z,className:"".concat(E,"-indent-unit")}))),w.createElement(M.Z,(0,Oe.Z)({},ze,{data:xt,itemKey:Xe,height:A,fullHeight:!1,virtual:k,itemHeight:O,scrollWidth:W,prefixCls:"".concat(E,"-list"),ref:we,role:"tree",onVisibleChange:function(We){We.every(function(et){return Xe(et)!==Se})&&at()}}),function(Ne){var We=Ne.pos,et=Object.assign({},(re(Ne.data),Ne.data)),tt=Ne.title,nt=Ne.key,st=Ne.isStart,mt=Ne.isEnd,Et=(0,T.km)(nt,We);delete et.key,delete et.children;var ut=(0,T.H8)(Et,pt);return w.createElement(ce,(0,Oe.Z)({},et,ut,{title:tt,active:!!U&&nt===U.key,pos:We,data:Ne.data,isStart:st,isEnd:mt,motion:p,motionNodes:nt===Se?ct:null,motionType:gt,onMotionStart:be,onMotionEnd:at,treeNodeRequiredProps:pt,onMouseMove:function(){fe(null)}}))}))}),f=it,X=g(10225),_e=g(17341),Je=g(35381),Qe=10,s=function(o){(0,se.Z)(E,o);var S=(0,Ze.Z)(E);function E(){var e;(0,xe.Z)(this,E);for(var d=arguments.length,m=new Array(d),x=0;x<d;x++)m[x]=arguments[x];return e=S.call.apply(S,[this].concat(m)),(0,Z.Z)((0,B.Z)(e),"destroyed",!1),(0,Z.Z)((0,B.Z)(e),"delayedDragEnterLogic",void 0),(0,Z.Z)((0,B.Z)(e),"loadingRetryTimes",{}),(0,Z.Z)((0,B.Z)(e),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:(0,T.w$)()}),(0,Z.Z)((0,B.Z)(e),"dragStartMousePosition",null),(0,Z.Z)((0,B.Z)(e),"dragNodeProps",null),(0,Z.Z)((0,B.Z)(e),"currentMouseOverDroppableNodeKey",null),(0,Z.Z)((0,B.Z)(e),"listRef",w.createRef()),(0,Z.Z)((0,B.Z)(e),"onNodeDragStart",function(n,r){var t=e.state,l=t.expandedKeys,u=t.keyEntities,v=e.props.onDragStart,K=r.eventKey;e.dragNodeProps=r,e.dragStartMousePosition={x:n.clientX,y:n.clientY};var C=(0,X._5)(l,K);e.setState({draggingNodeKey:K,dragChildrenKeys:(0,X.wA)(K,u),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(C),window.addEventListener("dragend",e.onWindowDragEnd),v==null||v({event:n,node:(0,T.F)(r)})}),(0,Z.Z)((0,B.Z)(e),"onNodeDragEnter",function(n,r){var t=e.state,l=t.expandedKeys,u=t.keyEntities,v=t.dragChildrenKeys,K=t.flattenNodes,C=t.indent,y=e.props,h=y.onDragEnter,p=y.onExpand,A=y.allowDrop,O=y.direction,k=r.pos,W=r.eventKey;if(e.currentMouseOverDroppableNodeKey!==W&&(e.currentMouseOverDroppableNodeKey=W),!e.dragNodeProps){e.resetDragState();return}var H=(0,X.OM)(n,e.dragNodeProps,r,C,e.dragStartMousePosition,A,K,u,l,O),U=H.dropPosition,j=H.dropLevelOffset,oe=H.dropTargetKey,de=H.dropContainerKey,ue=H.dropTargetPos,me=H.dropAllowed,fe=H.dragOverNodeKey;if(v.includes(oe)||!me){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(be){clearTimeout(e.delayedDragEnterLogic[be])}),e.dragNodeProps.eventKey!==r.eventKey&&(n.persist(),e.delayedDragEnterLogic[k]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var be=(0,ye.Z)(l),Ee=(0,Je.Z)(u,r.eventKey);Ee&&(Ee.children||[]).length&&(be=(0,X.L0)(l,r.eventKey)),e.props.hasOwnProperty("expandedKeys")||e.setExpandedKeys(be),p==null||p(be,{node:(0,T.F)(r),expanded:!0,nativeEvent:n.nativeEvent})}},800)),e.dragNodeProps.eventKey===oe&&j===0){e.resetDragState();return}e.setState({dragOverNodeKey:fe,dropPosition:U,dropLevelOffset:j,dropTargetKey:oe,dropContainerKey:de,dropTargetPos:ue,dropAllowed:me}),h==null||h({event:n,node:(0,T.F)(r),expandedKeys:l})}),(0,Z.Z)((0,B.Z)(e),"onNodeDragOver",function(n,r){var t=e.state,l=t.dragChildrenKeys,u=t.flattenNodes,v=t.keyEntities,K=t.expandedKeys,C=t.indent,y=e.props,h=y.onDragOver,p=y.allowDrop,A=y.direction;if(e.dragNodeProps){var O=(0,X.OM)(n,e.dragNodeProps,r,C,e.dragStartMousePosition,p,u,v,K,A),k=O.dropPosition,W=O.dropLevelOffset,H=O.dropTargetKey,U=O.dropContainerKey,j=O.dropTargetPos,oe=O.dropAllowed,de=O.dragOverNodeKey;l.includes(H)||!oe||(e.dragNodeProps.eventKey===H&&W===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():k===e.state.dropPosition&&W===e.state.dropLevelOffset&&H===e.state.dropTargetKey&&U===e.state.dropContainerKey&&j===e.state.dropTargetPos&&oe===e.state.dropAllowed&&de===e.state.dragOverNodeKey||e.setState({dropPosition:k,dropLevelOffset:W,dropTargetKey:H,dropContainerKey:U,dropTargetPos:j,dropAllowed:oe,dragOverNodeKey:de}),h==null||h({event:n,node:(0,T.F)(r)}))}}),(0,Z.Z)((0,B.Z)(e),"onNodeDragLeave",function(n,r){e.currentMouseOverDroppableNodeKey===r.eventKey&&!n.currentTarget.contains(n.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var t=e.props.onDragLeave;t==null||t({event:n,node:(0,T.F)(r)})}),(0,Z.Z)((0,B.Z)(e),"onWindowDragEnd",function(n){e.onNodeDragEnd(n,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)}),(0,Z.Z)((0,B.Z)(e),"onNodeDragEnd",function(n,r){var t=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),t==null||t({event:n,node:(0,T.F)(r)}),e.dragNodeProps=null,window.removeEventListener("dragend",e.onWindowDragEnd)}),(0,Z.Z)((0,B.Z)(e),"onNodeDrop",function(n,r){var t,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u=e.state,v=u.dragChildrenKeys,K=u.dropPosition,C=u.dropTargetKey,y=u.dropTargetPos,h=u.dropAllowed;if(h){var p=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),C!==null){var A=(0,V.Z)((0,V.Z)({},(0,T.H8)(C,e.getTreeNodeRequiredProps())),{},{active:((t=e.getActiveItem())===null||t===void 0?void 0:t.key)===C,data:(0,Je.Z)(e.state.keyEntities,C).node}),O=v.includes(C);(0,Pe.ZP)(!O,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var k=(0,X.yx)(y),W={event:n,node:(0,T.F)(A),dragNode:e.dragNodeProps?(0,T.F)(e.dragNodeProps):null,dragNodesKeys:[e.dragNodeProps.eventKey].concat(v),dropToGap:K!==0,dropPosition:K+Number(k[k.length-1])};l||p==null||p(W),e.dragNodeProps=null}}}),(0,Z.Z)((0,B.Z)(e),"cleanDragState",function(){var n=e.state.draggingNodeKey;n!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null}),(0,Z.Z)((0,B.Z)(e),"triggerExpandActionExpand",function(n,r){var t=e.state,l=t.expandedKeys,u=t.flattenNodes,v=r.expanded,K=r.key,C=r.isLeaf;if(!(C||n.shiftKey||n.metaKey||n.ctrlKey)){var y=u.filter(function(p){return p.key===K})[0],h=(0,T.F)((0,V.Z)((0,V.Z)({},(0,T.H8)(K,e.getTreeNodeRequiredProps())),{},{data:y.data}));e.setExpandedKeys(v?(0,X._5)(l,K):(0,X.L0)(l,K)),e.onNodeExpand(n,h)}}),(0,Z.Z)((0,B.Z)(e),"onNodeClick",function(n,r){var t=e.props,l=t.onClick,u=t.expandAction;u==="click"&&e.triggerExpandActionExpand(n,r),l==null||l(n,r)}),(0,Z.Z)((0,B.Z)(e),"onNodeDoubleClick",function(n,r){var t=e.props,l=t.onDoubleClick,u=t.expandAction;u==="doubleClick"&&e.triggerExpandActionExpand(n,r),l==null||l(n,r)}),(0,Z.Z)((0,B.Z)(e),"onNodeSelect",function(n,r){var t=e.state.selectedKeys,l=e.state,u=l.keyEntities,v=l.fieldNames,K=e.props,C=K.onSelect,y=K.multiple,h=r.selected,p=r[v.key],A=!h;A?y?t=(0,X.L0)(t,p):t=[p]:t=(0,X._5)(t,p);var O=t.map(function(k){var W=(0,Je.Z)(u,k);return W?W.node:null}).filter(Boolean);e.setUncontrolledState({selectedKeys:t}),C==null||C(t,{event:"select",selected:A,node:r,selectedNodes:O,nativeEvent:n.nativeEvent})}),(0,Z.Z)((0,B.Z)(e),"onNodeCheck",function(n,r,t){var l=e.state,u=l.keyEntities,v=l.checkedKeys,K=l.halfCheckedKeys,C=e.props,y=C.checkStrictly,h=C.onCheck,p=r.key,A,O={event:"check",node:r,checked:t,nativeEvent:n.nativeEvent};if(y){var k=t?(0,X.L0)(v,p):(0,X._5)(v,p),W=(0,X._5)(K,p);A={checked:k,halfChecked:W},O.checkedNodes=k.map(function(ue){return(0,Je.Z)(u,ue)}).filter(Boolean).map(function(ue){return ue.node}),e.setUncontrolledState({checkedKeys:k})}else{var H=(0,_e.S)([].concat((0,ye.Z)(v),[p]),!0,u),U=H.checkedKeys,j=H.halfCheckedKeys;if(!t){var oe=new Set(U);oe.delete(p);var de=(0,_e.S)(Array.from(oe),{checked:!1,halfCheckedKeys:j},u);U=de.checkedKeys,j=de.halfCheckedKeys}A=U,O.checkedNodes=[],O.checkedNodesPositions=[],O.halfCheckedKeys=j,U.forEach(function(ue){var me=(0,Je.Z)(u,ue);if(me){var fe=me.node,be=me.pos;O.checkedNodes.push(fe),O.checkedNodesPositions.push({node:fe,pos:be})}}),e.setUncontrolledState({checkedKeys:U},!1,{halfCheckedKeys:j})}h==null||h(A,O)}),(0,Z.Z)((0,B.Z)(e),"onNodeLoad",function(n){var r,t=n.key,l=e.state.keyEntities,u=(0,Je.Z)(l,t);if(!(u!=null&&(r=u.children)!==null&&r!==void 0&&r.length)){var v=new Promise(function(K,C){e.setState(function(y){var h=y.loadedKeys,p=h===void 0?[]:h,A=y.loadingKeys,O=A===void 0?[]:A,k=e.props,W=k.loadData,H=k.onLoad;if(!W||p.includes(t)||O.includes(t))return null;var U=W(n);return U.then(function(){var j=e.state.loadedKeys,oe=(0,X.L0)(j,t);H==null||H(oe,{event:"load",node:n}),e.setUncontrolledState({loadedKeys:oe}),e.setState(function(de){return{loadingKeys:(0,X._5)(de.loadingKeys,t)}}),K()}).catch(function(j){if(e.setState(function(de){return{loadingKeys:(0,X._5)(de.loadingKeys,t)}}),e.loadingRetryTimes[t]=(e.loadingRetryTimes[t]||0)+1,e.loadingRetryTimes[t]>=Qe){var oe=e.state.loadedKeys;(0,Pe.ZP)(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:(0,X.L0)(oe,t)}),K()}C(j)}),{loadingKeys:(0,X.L0)(O,t)}})});return v.catch(function(){}),v}}),(0,Z.Z)((0,B.Z)(e),"onNodeMouseEnter",function(n,r){var t=e.props.onMouseEnter;t==null||t({event:n,node:r})}),(0,Z.Z)((0,B.Z)(e),"onNodeMouseLeave",function(n,r){var t=e.props.onMouseLeave;t==null||t({event:n,node:r})}),(0,Z.Z)((0,B.Z)(e),"onNodeContextMenu",function(n,r){var t=e.props.onRightClick;t&&(n.preventDefault(),t({event:n,node:r}))}),(0,Z.Z)((0,B.Z)(e),"onFocus",function(){var n=e.props.onFocus;e.setState({focused:!0});for(var r=arguments.length,t=new Array(r),l=0;l<r;l++)t[l]=arguments[l];n==null||n.apply(void 0,t)}),(0,Z.Z)((0,B.Z)(e),"onBlur",function(){var n=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var r=arguments.length,t=new Array(r),l=0;l<r;l++)t[l]=arguments[l];n==null||n.apply(void 0,t)}),(0,Z.Z)((0,B.Z)(e),"getTreeNodeRequiredProps",function(){var n=e.state,r=n.expandedKeys,t=n.selectedKeys,l=n.loadedKeys,u=n.loadingKeys,v=n.checkedKeys,K=n.halfCheckedKeys,C=n.dragOverNodeKey,y=n.dropPosition,h=n.keyEntities;return{expandedKeys:r||[],selectedKeys:t||[],loadedKeys:l||[],loadingKeys:u||[],checkedKeys:v||[],halfCheckedKeys:K||[],dragOverNodeKey:C,dropPosition:y,keyEntities:h}}),(0,Z.Z)((0,B.Z)(e),"setExpandedKeys",function(n){var r=e.state,t=r.treeData,l=r.fieldNames,u=(0,T.oH)(t,n,l);e.setUncontrolledState({expandedKeys:n,flattenNodes:u},!0)}),(0,Z.Z)((0,B.Z)(e),"onNodeExpand",function(n,r){var t=e.state.expandedKeys,l=e.state,u=l.listChanging,v=l.fieldNames,K=e.props,C=K.onExpand,y=K.loadData,h=r.expanded,p=r[v.key];if(!u){var A=t.includes(p),O=!h;if((0,Pe.ZP)(h&&A||!h&&!A,"Expand state not sync with index check"),t=O?(0,X.L0)(t,p):(0,X._5)(t,p),e.setExpandedKeys(t),C==null||C(t,{node:r,expanded:O,nativeEvent:n.nativeEvent}),O&&y){var k=e.onNodeLoad(r);k&&k.then(function(){var W=(0,T.oH)(e.state.treeData,t,v);e.setUncontrolledState({flattenNodes:W})}).catch(function(){var W=e.state.expandedKeys,H=(0,X._5)(W,p);e.setExpandedKeys(H)})}}}),(0,Z.Z)((0,B.Z)(e),"onListChangeStart",function(){e.setUncontrolledState({listChanging:!0})}),(0,Z.Z)((0,B.Z)(e),"onListChangeEnd",function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})}),(0,Z.Z)((0,B.Z)(e),"onActiveChange",function(n){var r=e.state.activeKey,t=e.props,l=t.onActiveChange,u=t.itemScrollOffset,v=u===void 0?0:u;r!==n&&(e.setState({activeKey:n}),n!==null&&e.scrollTo({key:n,offset:v}),l==null||l(n))}),(0,Z.Z)((0,B.Z)(e),"getActiveItem",function(){var n=e.state,r=n.activeKey,t=n.flattenNodes;return r===null?null:t.find(function(l){var u=l.key;return u===r})||null}),(0,Z.Z)((0,B.Z)(e),"offsetActiveKey",function(n){var r=e.state,t=r.flattenNodes,l=r.activeKey,u=t.findIndex(function(C){var y=C.key;return y===l});u===-1&&n<0&&(u=t.length),u=(u+n+t.length)%t.length;var v=t[u];if(v){var K=v.key;e.onActiveChange(K)}else e.onActiveChange(null)}),(0,Z.Z)((0,B.Z)(e),"onKeyDown",function(n){var r=e.state,t=r.activeKey,l=r.expandedKeys,u=r.checkedKeys,v=r.fieldNames,K=e.props,C=K.onKeyDown,y=K.checkable,h=K.selectable;switch(n.which){case q.Z.UP:{e.offsetActiveKey(-1),n.preventDefault();break}case q.Z.DOWN:{e.offsetActiveKey(1),n.preventDefault();break}}var p=e.getActiveItem();if(p&&p.data){var A=e.getTreeNodeRequiredProps(),O=p.data.isLeaf===!1||!!(p.data[v.children]||[]).length,k=(0,T.F)((0,V.Z)((0,V.Z)({},(0,T.H8)(t,A)),{},{data:p.data,active:!0}));switch(n.which){case q.Z.LEFT:{O&&l.includes(t)?e.onNodeExpand({},k):p.parent&&e.onActiveChange(p.parent.key),n.preventDefault();break}case q.Z.RIGHT:{O&&!l.includes(t)?e.onNodeExpand({},k):p.children&&p.children.length&&e.onActiveChange(p.children[0].key),n.preventDefault();break}case q.Z.ENTER:case q.Z.SPACE:{y&&!k.disabled&&k.checkable!==!1&&!k.disableCheckbox?e.onNodeCheck({},k,!u.includes(t)):!y&&h&&!k.disabled&&k.selectable!==!1&&e.onNodeSelect({},k);break}}}C==null||C(n)}),(0,Z.Z)((0,B.Z)(e),"setUncontrolledState",function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var l=!1,u=!0,v={};Object.keys(n).forEach(function(K){if(e.props.hasOwnProperty(K)){u=!1;return}l=!0,v[K]=n[K]}),l&&(!r||u)&&e.setState((0,V.Z)((0,V.Z)({},v),t))}}),(0,Z.Z)((0,B.Z)(e),"scrollTo",function(n){e.listRef.current.scrollTo(n)}),e}return(0,Y.Z)(E,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var d=this.props,m=d.activeKey,x=d.itemScrollOffset,n=x===void 0?0:x;m!==void 0&&m!==this.state.activeKey&&(this.setState({activeKey:m}),m!==null&&this.scrollTo({key:m,offset:n}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var d=this.state,m=d.focused,x=d.flattenNodes,n=d.keyEntities,r=d.draggingNodeKey,t=d.activeKey,l=d.dropLevelOffset,u=d.dropContainerKey,v=d.dropTargetKey,K=d.dropPosition,C=d.dragOverNodeKey,y=d.indent,h=this.props,p=h.prefixCls,A=h.className,O=h.style,k=h.showLine,W=h.focusable,H=h.tabIndex,U=H===void 0?0:H,j=h.selectable,oe=h.showIcon,de=h.icon,ue=h.switcherIcon,me=h.draggable,fe=h.checkable,be=h.checkStrictly,Ee=h.disabled,ze=h.motion,we=h.loadData,z=h.filterTreeNode,b=h.height,te=h.itemHeight,Ie=h.scrollWidth,je=h.virtual,Ge=h.titleRender,lt=h.dropIndicatorRender,$e=h.onContextMenu,Be=h.onScroll,dt=h.direction,Ae=h.rootClassName,Le=h.rootStyle,Re=(0,ie.Z)(this.props,{aria:!0,data:!0}),Ye;me&&((0,G.Z)(me)==="object"?Ye=me:typeof me=="function"?Ye={nodeDraggable:me}:Ye={});var rt={prefixCls:p,selectable:j,showIcon:oe,icon:de,switcherIcon:ue,draggable:Ye,draggingNodeKey:r,checkable:fe,checkStrictly:be,disabled:Ee,keyEntities:n,dropLevelOffset:l,dropContainerKey:u,dropTargetKey:v,dropPosition:K,dragOverNodeKey:C,indent:y,direction:dt,dropIndicatorRender:lt,loadData:we,filterTreeNode:z,titleRender:Ge,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop};return w.createElement(ke.k.Provider,{value:rt},w.createElement("div",{className:c()(p,A,Ae,(0,Z.Z)((0,Z.Z)((0,Z.Z)({},"".concat(p,"-show-line"),k),"".concat(p,"-focused"),m),"".concat(p,"-active-focused"),t!==null)),style:Le},w.createElement(f,(0,Oe.Z)({ref:this.listRef,prefixCls:p,style:O,data:x,disabled:Ee,selectable:j,checkable:!!fe,motion:ze,dragging:r!==null,height:b,itemHeight:te,virtual:je,focusable:W,focused:m,tabIndex:U,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:$e,onScroll:Be,scrollWidth:Ie},this.getTreeNodeRequiredProps(),Re))))}}],[{key:"getDerivedStateFromProps",value:function(d,m){var x=m.prevProps,n={prevProps:d};function r(U){return!x&&d.hasOwnProperty(U)||x&&x[U]!==d[U]}var t,l=m.fieldNames;if(r("fieldNames")&&(l=(0,T.w$)(d.fieldNames),n.fieldNames=l),r("treeData")?t=d.treeData:r("children")&&((0,Pe.ZP)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),t=(0,T.zn)(d.children)),t){n.treeData=t;var u=(0,T.I8)(t,{fieldNames:l});n.keyEntities=(0,V.Z)((0,Z.Z)({},Se,ee),u.keyEntities)}var v=n.keyEntities||m.keyEntities;if(r("expandedKeys")||x&&r("autoExpandParent"))n.expandedKeys=d.autoExpandParent||!x&&d.defaultExpandParent?(0,X.r7)(d.expandedKeys,v):d.expandedKeys;else if(!x&&d.defaultExpandAll){var K=(0,V.Z)({},v);delete K[Se];var C=[];Object.keys(K).forEach(function(U){var j=K[U];j.children&&j.children.length&&C.push(j.key)}),n.expandedKeys=C}else!x&&d.defaultExpandedKeys&&(n.expandedKeys=d.autoExpandParent||d.defaultExpandParent?(0,X.r7)(d.defaultExpandedKeys,v):d.defaultExpandedKeys);if(n.expandedKeys||delete n.expandedKeys,t||n.expandedKeys){var y=(0,T.oH)(t||m.treeData,n.expandedKeys||m.expandedKeys,l);n.flattenNodes=y}if(d.selectable&&(r("selectedKeys")?n.selectedKeys=(0,X.BT)(d.selectedKeys,d):!x&&d.defaultSelectedKeys&&(n.selectedKeys=(0,X.BT)(d.defaultSelectedKeys,d))),d.checkable){var h;if(r("checkedKeys")?h=(0,X.E6)(d.checkedKeys)||{}:!x&&d.defaultCheckedKeys?h=(0,X.E6)(d.defaultCheckedKeys)||{}:t&&(h=(0,X.E6)(d.checkedKeys)||{checkedKeys:m.checkedKeys,halfCheckedKeys:m.halfCheckedKeys}),h){var p=h,A=p.checkedKeys,O=A===void 0?[]:A,k=p.halfCheckedKeys,W=k===void 0?[]:k;if(!d.checkStrictly){var H=(0,_e.S)(O,!0,v);O=H.checkedKeys,W=H.halfCheckedKeys}n.checkedKeys=O,n.halfCheckedKeys=W}}return r("loadedKeys")&&(n.loadedKeys=d.loadedKeys),n}}]),E}(w.Component);(0,Z.Z)(s,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:ve,allowDrop:function(){return!0},expandAction:!1}),(0,Z.Z)(s,"TreeNode",I.Z);var R=s,N=R},10225:function(ft,He,g){g.d(He,{BT:function(){return w},E6:function(){return ve},L0:function(){return Z},OM:function(){return Pe},_5:function(){return Ze},r7:function(){return re},wA:function(){return c},yx:function(){return ne}});var Oe=g(74902),G=g(71002),V=g(80334),ye=g(67294),xe=g(86128),Y=g(35381),B=g(1089),se=null;function Ze(i,a){if(!i)return[];var D=i.slice(),M=D.indexOf(a);return M>=0&&D.splice(M,1),D}function Z(i,a){var D=(i||[]).slice();return D.indexOf(a)===-1&&D.push(a),D}function ne(i){return i.split("-")}function c(i,a){var D=[],M=(0,Y.Z)(a,i);function P(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];I.forEach(function(F){var J=F.key,T=F.children;D.push(J),P(T)})}return P(M.children),D}function q(i){if(i.parent){var a=ne(i.pos);return Number(a[a.length-1])===i.parent.children.length-1}return!1}function ie(i){var a=ne(i.pos);return Number(a[a.length-1])===0}function Pe(i,a,D,M,P,I,F,J,T,le){var Ke,ce=i.clientX,ae=i.clientY,he=i.target.getBoundingClientRect(),Q=he.top,pe=he.height,ge=(le==="rtl"?-1:1)*(((P==null?void 0:P.x)||0)-ce),Se=(ge-12)/M,De=T.filter(function(N){var o;return(o=J[N])===null||o===void 0||(o=o.children)===null||o===void 0?void 0:o.length}),ee=(0,Y.Z)(J,D.eventKey);if(ae<Q+pe/2){var Ue=F.findIndex(function(N){return N.key===ee.key}),Ce=Ue<=0?0:Ue-1,Xe=F[Ce].key;ee=(0,Y.Z)(J,Xe)}var Ve=ee.key,it=ee,f=ee.key,X=0,_e=0;if(!De.includes(Ve))for(var Je=0;Je<Se&&q(ee);Je+=1)ee=ee.parent,_e+=1;var Qe=a.data,s=ee.node,R=!0;return ie(ee)&&ee.level===0&&ae<Q+pe/2&&I({dragNode:Qe,dropNode:s,dropPosition:-1})&&ee.key===D.eventKey?X=-1:(it.children||[]).length&&De.includes(f)?I({dragNode:Qe,dropNode:s,dropPosition:0})?X=0:R=!1:_e===0?Se>-1.5?I({dragNode:Qe,dropNode:s,dropPosition:1})?X=1:R=!1:I({dragNode:Qe,dropNode:s,dropPosition:0})?X=0:I({dragNode:Qe,dropNode:s,dropPosition:1})?X=1:R=!1:I({dragNode:Qe,dropNode:s,dropPosition:1})?X=1:R=!1,{dropPosition:X,dropLevelOffset:_e,dropTargetKey:ee.key,dropTargetPos:ee.pos,dragOverNodeKey:f,dropContainerKey:X===0?null:((Ke=ee.parent)===null||Ke===void 0?void 0:Ke.key)||null,dropAllowed:R}}function w(i,a){if(i){var D=a.multiple;return D?i.slice():i.length?[i[0]]:i}}var ke=function(a){return a};function Te(i,a){if(!i)return[];var D=a||{},M=D.processProps,P=M===void 0?ke:M,I=Array.isArray(i)?i:[i];return I.map(function(F){var J=F.children,T=_objectWithoutProperties(F,se),le=Te(J,a);return React.createElement(TreeNode,_extends({key:T.key},P(T)),le)})}function ve(i){if(!i)return null;var a;if(Array.isArray(i))a={checkedKeys:i,halfCheckedKeys:void 0};else if((0,G.Z)(i)==="object")a={checkedKeys:i.checked||void 0,halfCheckedKeys:i.halfChecked||void 0};else return(0,V.ZP)(!1,"`checkedKeys` is not an array or an object"),null;return a}function re(i,a){var D=new Set;function M(P){if(!D.has(P)){var I=(0,Y.Z)(a,P);if(I){D.add(P);var F=I.parent,J=I.node;J.disabled||F&&M(F.key)}}}return(i||[]).forEach(function(P){M(P)}),(0,Oe.Z)(D)}},17341:function(ft,He,g){g.d(He,{S:function(){return B}});var Oe=g(80334),G=g(35381);function V(se,Ze){var Z=new Set;return se.forEach(function(ne){Ze.has(ne)||Z.add(ne)}),Z}function ye(se){var Ze=se||{},Z=Ze.disabled,ne=Ze.disableCheckbox,c=Ze.checkable;return!!(Z||ne)||c===!1}function xe(se,Ze,Z,ne){for(var c=new Set(se),q=new Set,ie=0;ie<=Z;ie+=1){var Pe=Ze.get(ie)||new Set;Pe.forEach(function(ve){var re=ve.key,i=ve.node,a=ve.children,D=a===void 0?[]:a;c.has(re)&&!ne(i)&&D.filter(function(M){return!ne(M.node)}).forEach(function(M){c.add(M.key)})})}for(var w=new Set,ke=Z;ke>=0;ke-=1){var Te=Ze.get(ke)||new Set;Te.forEach(function(ve){var re=ve.parent,i=ve.node;if(!(ne(i)||!ve.parent||w.has(ve.parent.key))){if(ne(ve.parent.node)){w.add(re.key);return}var a=!0,D=!1;(re.children||[]).filter(function(M){return!ne(M.node)}).forEach(function(M){var P=M.key,I=c.has(P);a&&!I&&(a=!1),!D&&(I||q.has(P))&&(D=!0)}),a&&c.add(re.key),D&&q.add(re.key),w.add(re.key)}})}return{checkedKeys:Array.from(c),halfCheckedKeys:Array.from(V(q,c))}}function Y(se,Ze,Z,ne,c){for(var q=new Set(se),ie=new Set(Ze),Pe=0;Pe<=ne;Pe+=1){var w=Z.get(Pe)||new Set;w.forEach(function(re){var i=re.key,a=re.node,D=re.children,M=D===void 0?[]:D;!q.has(i)&&!ie.has(i)&&!c(a)&&M.filter(function(P){return!c(P.node)}).forEach(function(P){q.delete(P.key)})})}ie=new Set;for(var ke=new Set,Te=ne;Te>=0;Te-=1){var ve=Z.get(Te)||new Set;ve.forEach(function(re){var i=re.parent,a=re.node;if(!(c(a)||!re.parent||ke.has(re.parent.key))){if(c(re.parent.node)){ke.add(i.key);return}var D=!0,M=!1;(i.children||[]).filter(function(P){return!c(P.node)}).forEach(function(P){var I=P.key,F=q.has(I);D&&!F&&(D=!1),!M&&(F||ie.has(I))&&(M=!0)}),D||q.delete(i.key),M&&ie.add(i.key),ke.add(i.key)}})}return{checkedKeys:Array.from(q),halfCheckedKeys:Array.from(V(ie,q))}}function B(se,Ze,Z,ne){var c=[],q;ne?q=ne:q=ye;var ie=new Set(se.filter(function(Te){var ve=!!(0,G.Z)(Z,Te);return ve||c.push(Te),ve})),Pe=new Map,w=0;Object.keys(Z).forEach(function(Te){var ve=Z[Te],re=ve.level,i=Pe.get(re);i||(i=new Set,Pe.set(re,i)),i.add(ve),w=Math.max(w,re)}),(0,Oe.ZP)(!c.length,"Tree missing follow keys: ".concat(c.slice(0,100).map(function(Te){return"'".concat(Te,"'")}).join(", ")));var ke;return Ze===!0?ke=xe(ie,Pe,w,q):ke=Y(ie,Ze.halfCheckedKeys,Pe,w,q),ke}},35381:function(ft,He,g){g.d(He,{Z:function(){return Oe}});function Oe(G,V){return G[V]}},1089:function(ft,He,g){g.d(He,{F:function(){return re},H8:function(){return ve},I8:function(){return Te},km:function(){return c},oH:function(){return w},w$:function(){return q},zn:function(){return Pe}});var Oe=g(71002),G=g(74902),V=g(1413),ye=g(91),xe=g(50344),Y=g(98423),B=g(80334),se=g(35381),Ze=["children"];function Z(i,a){return"".concat(i,"-").concat(a)}function ne(i){return i&&i.type&&i.type.isTreeNode}function c(i,a){return i!=null?i:a}function q(i){var a=i||{},D=a.title,M=a._title,P=a.key,I=a.children,F=D||"title";return{title:F,_title:M||[F],key:P||"key",children:I||"children"}}function ie(i,a){var D=new Map;function M(P){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(P||[]).forEach(function(F){var J=F[a.key],T=F[a.children];warning(J!=null,"Tree node must have a certain key: [".concat(I).concat(J,"]"));var le=String(J);warning(!D.has(le)||J===null||J===void 0,"Same 'key' exist in the Tree: ".concat(le)),D.set(le,!0),M(T,"".concat(I).concat(le," > "))})}M(i)}function Pe(i){function a(D){var M=(0,xe.Z)(D);return M.map(function(P){if(!ne(P))return(0,B.ZP)(!P,"Tree/TreeNode can only accept TreeNode as children."),null;var I=P.key,F=P.props,J=F.children,T=(0,ye.Z)(F,Ze),le=(0,V.Z)({key:I},T),Ke=a(J);return Ke.length&&(le.children=Ke),le}).filter(function(P){return P})}return a(i)}function w(i,a,D){var M=q(D),P=M._title,I=M.key,F=M.children,J=new Set(a===!0?[]:a),T=[];function le(Ke){var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return Ke.map(function(ae,he){for(var Q=Z(ce?ce.pos:"0",he),pe=c(ae[I],Q),ge,Se=0;Se<P.length;Se+=1){var De=P[Se];if(ae[De]!==void 0){ge=ae[De];break}}var ee=Object.assign((0,Y.Z)(ae,[].concat((0,G.Z)(P),[I,F])),{title:ge,key:pe,parent:ce,pos:Q,children:null,data:ae,isStart:[].concat((0,G.Z)(ce?ce.isStart:[]),[he===0]),isEnd:[].concat((0,G.Z)(ce?ce.isEnd:[]),[he===Ke.length-1])});return T.push(ee),a===!0||J.has(pe)?ee.children=le(ae[F]||[],ee):ee.children=[],ee})}return le(i),T}function ke(i,a,D){var M={};(0,Oe.Z)(D)==="object"?M=D:M={externalGetKey:D},M=M||{};var P=M,I=P.childrenPropName,F=P.externalGetKey,J=P.fieldNames,T=q(J),le=T.key,Ke=T.children,ce=I||Ke,ae;F?typeof F=="string"?ae=function(pe){return pe[F]}:typeof F=="function"&&(ae=function(pe){return F(pe)}):ae=function(pe,ge){return c(pe[le],ge)};function he(Q,pe,ge,Se){var De=Q?Q[ce]:i,ee=Q?Z(ge.pos,pe):"0",Ue=Q?[].concat((0,G.Z)(Se),[Q]):[];if(Q){var Ce=ae(Q,ee),Xe={node:Q,index:pe,pos:ee,key:Ce,parentPos:ge.node?ge.pos:null,level:ge.level+1,nodes:Ue};a(Xe)}De&&De.forEach(function(Ve,it){he(Ve,it,{node:Q,pos:ee,level:ge?ge.level+1:-1},Ue)})}he(null)}function Te(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},D=a.initWrapper,M=a.processEntity,P=a.onProcessFinished,I=a.externalGetKey,F=a.childrenPropName,J=a.fieldNames,T=arguments.length>2?arguments[2]:void 0,le=I||T,Ke={},ce={},ae={posEntities:Ke,keyEntities:ce};return D&&(ae=D(ae)||ae),ke(i,function(he){var Q=he.node,pe=he.index,ge=he.pos,Se=he.key,De=he.parentPos,ee=he.level,Ue=he.nodes,Ce={node:Q,nodes:Ue,index:pe,key:Se,pos:ge,level:ee},Xe=c(Se,ge);Ke[ge]=Ce,ce[Xe]=Ce,Ce.parent=Ke[De],Ce.parent&&(Ce.parent.children=Ce.parent.children||[],Ce.parent.children.push(Ce)),M&&M(Ce,ae)},{externalGetKey:le,childrenPropName:F,fieldNames:J}),P&&P(ae),ae}function ve(i,a){var D=a.expandedKeys,M=a.selectedKeys,P=a.loadedKeys,I=a.loadingKeys,F=a.checkedKeys,J=a.halfCheckedKeys,T=a.dragOverNodeKey,le=a.dropPosition,Ke=a.keyEntities,ce=(0,se.Z)(Ke,i),ae={eventKey:i,expanded:D.indexOf(i)!==-1,selected:M.indexOf(i)!==-1,loaded:P.indexOf(i)!==-1,loading:I.indexOf(i)!==-1,checked:F.indexOf(i)!==-1,halfChecked:J.indexOf(i)!==-1,pos:String(ce?ce.pos:""),dragOver:T===i&&le===0,dragOverGapTop:T===i&&le===-1,dragOverGapBottom:T===i&&le===1};return ae}function re(i){var a=i.data,D=i.expanded,M=i.selected,P=i.checked,I=i.loaded,F=i.loading,J=i.halfChecked,T=i.dragOver,le=i.dragOverGapTop,Ke=i.dragOverGapBottom,ce=i.pos,ae=i.active,he=i.eventKey,Q=(0,V.Z)((0,V.Z)({},a),{},{expanded:D,selected:M,checked:P,loaded:I,loading:F,halfChecked:J,dragOver:T,dragOverGapTop:le,dragOverGapBottom:Ke,pos:ce,active:ae,key:he});return"props"in Q||Object.defineProperty(Q,"props",{get:function(){return(0,B.ZP)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),i}}),Q}},87718:function(ft,He,g){g.d(He,{Z:function(){return Qe}});var Oe=g(87462),G=g(71002),V=g(1413),ye=g(4942),xe=g(97685),Y=g(91),B=g(93967),se=g.n(B),Ze=g(48555),Z=g(56790),ne=g(8410),c=g(67294),q=g(73935),ie=c.forwardRef(function(s,R){var N=s.height,o=s.offsetY,S=s.offsetX,E=s.children,e=s.prefixCls,d=s.onInnerResize,m=s.innerProps,x=s.rtl,n=s.extra,r={},t={display:"flex",flexDirection:"column"};return o!==void 0&&(r={height:N,position:"relative",overflow:"hidden"},t=(0,V.Z)((0,V.Z)({},t),{},(0,ye.Z)((0,ye.Z)((0,ye.Z)((0,ye.Z)((0,ye.Z)({transform:"translateY(".concat(o,"px)")},x?"marginRight":"marginLeft",-S),"position","absolute"),"left",0),"right",0),"top",0))),c.createElement("div",{style:r},c.createElement(Ze.Z,{onResize:function(u){var v=u.offsetHeight;v&&d&&d()}},c.createElement("div",(0,Oe.Z)({style:t,className:se()((0,ye.Z)({},"".concat(e,"-holder-inner"),e)),ref:R},m),E,n)))});ie.displayName="Filler";var Pe=ie;function w(s){var R=s.children,N=s.setRef,o=c.useCallback(function(S){N(S)},[]);return c.cloneElement(R,{ref:o})}function ke(s,R,N,o,S,E,e,d){var m=d.getKey;return s.slice(R,N+1).map(function(x,n){var r=R+n,t=e(x,r,{style:{width:o},offsetX:S}),l=m(x);return c.createElement(w,{key:l,setRef:function(v){return E(x,v)}},t)})}function Te(s,R,N,o){var S=N-s,E=R-N,e=Math.min(S,E)*2;if(o<=e){var d=Math.floor(o/2);return o%2?N+d+1:N-d}return S>E?N-(o-E):N+(o-S)}function ve(s,R,N){var o=s.length,S=R.length,E,e;if(o===0&&S===0)return null;o<S?(E=s,e=R):(E=R,e=s);var d={__EMPTY_ITEM__:!0};function m(u){return u!==void 0?N(u):d}for(var x=null,n=Math.abs(o-S)!==1,r=0;r<e.length;r+=1){var t=m(E[r]),l=m(e[r]);if(t!==l){x=r,n=n||t!==m(e[r+1]);break}}return x===null?null:{index:x,multiple:n}}function re(s,R,N){var o=c.useState(s),S=(0,xe.Z)(o,2),E=S[0],e=S[1],d=c.useState(null),m=(0,xe.Z)(d,2),x=m[0],n=m[1];return c.useEffect(function(){var r=ve(E||[],s||[],R);(r==null?void 0:r.index)!==void 0&&(N==null||N(r.index),n(s[r.index])),e(s)},[s]),[x]}var i=g(75164),a=(typeof navigator=="undefined"?"undefined":(0,G.Z)(navigator))==="object"&&/Firefox/i.test(navigator.userAgent),D=a,M=function(s,R,N,o){var S=(0,c.useRef)(!1),E=(0,c.useRef)(null);function e(){clearTimeout(E.current),S.current=!0,E.current=setTimeout(function(){S.current=!1},50)}var d=(0,c.useRef)({top:s,bottom:R,left:N,right:o});return d.current.top=s,d.current.bottom=R,d.current.left=N,d.current.right=o,function(m,x){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=m?x<0&&d.current.left||x>0&&d.current.right:x<0&&d.current.top||x>0&&d.current.bottom;return n&&r?(clearTimeout(E.current),S.current=!1):(!r||S.current)&&e(),!S.current&&r}};function P(s,R,N,o,S,E,e){var d=(0,c.useRef)(0),m=(0,c.useRef)(null),x=(0,c.useRef)(null),n=(0,c.useRef)(!1),r=M(R,N,o,S);function t(y,h){if(i.Z.cancel(m.current),!r(!1,h)){var p=y;if(!p._virtualHandled)p._virtualHandled=!0;else return;d.current+=h,x.current=h,D||p.preventDefault(),m.current=(0,i.Z)(function(){var A=n.current?10:1;e(d.current*A,!1),d.current=0})}}function l(y,h){e(h,!0),D||y.preventDefault()}var u=(0,c.useRef)(null),v=(0,c.useRef)(null);function K(y){if(s){i.Z.cancel(v.current),v.current=(0,i.Z)(function(){u.current=null},2);var h=y.deltaX,p=y.deltaY,A=y.shiftKey,O=h,k=p;(u.current==="sx"||!u.current&&A&&p&&!h)&&(O=p,k=0,u.current="sx");var W=Math.abs(O),H=Math.abs(k);u.current===null&&(u.current=E&&W>H?"x":"y"),u.current==="y"?t(y,k):l(y,O)}}function C(y){s&&(n.current=y.detail===x.current)}return[K,C]}function I(s,R,N,o){var S=c.useMemo(function(){return[new Map,[]]},[s,N.id,o]),E=(0,xe.Z)(S,2),e=E[0],d=E[1],m=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n,t=e.get(n),l=e.get(r);if(t===void 0||l===void 0)for(var u=s.length,v=d.length;v<u;v+=1){var K,C=s[v],y=R(C);e.set(y,v);var h=(K=N.get(y))!==null&&K!==void 0?K:o;if(d[v]=(d[v-1]||0)+h,y===n&&(t=v),y===r&&(l=v),t!==void 0&&l!==void 0)break}return{top:d[t-1]||0,bottom:d[l]}};return m}var F=g(15671),J=g(43144),T=function(){function s(){(0,F.Z)(this,s),(0,ye.Z)(this,"maps",void 0),(0,ye.Z)(this,"id",0),(0,ye.Z)(this,"diffRecords",new Map),this.maps=Object.create(null)}return(0,J.Z)(s,[{key:"set",value:function(N,o){this.diffRecords.set(N,this.maps[N]),this.maps[N]=o,this.id+=1}},{key:"get",value:function(N){return this.maps[N]}},{key:"resetRecord",value:function(){this.diffRecords.clear()}},{key:"getRecord",value:function(){return this.diffRecords}}]),s}(),le=T;function Ke(s){var R=parseFloat(s);return isNaN(R)?0:R}function ce(s,R,N){var o=c.useState(0),S=(0,xe.Z)(o,2),E=S[0],e=S[1],d=(0,c.useRef)(new Map),m=(0,c.useRef)(new le),x=(0,c.useRef)(0);function n(){x.current+=1}function r(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;n();var u=function(){var C=!1;d.current.forEach(function(y,h){if(y&&y.offsetParent){var p=y.offsetHeight,A=getComputedStyle(y),O=A.marginTop,k=A.marginBottom,W=Ke(O),H=Ke(k),U=p+W+H;m.current.get(h)!==U&&(m.current.set(h,U),C=!0)}}),C&&e(function(y){return y+1})};if(l)u();else{x.current+=1;var v=x.current;Promise.resolve().then(function(){v===x.current&&u()})}}function t(l,u){var v=s(l),K=d.current.get(v);u?(d.current.set(v,u),r()):d.current.delete(v),!K!=!u&&(u?R==null||R(l):N==null||N(l))}return(0,c.useEffect)(function(){return n},[]),[t,r,m.current,E]}var ae=14/15;function he(s,R,N){var o=(0,c.useRef)(!1),S=(0,c.useRef)(0),E=(0,c.useRef)(0),e=(0,c.useRef)(null),d=(0,c.useRef)(null),m,x=function(l){if(o.current){var u=Math.ceil(l.touches[0].pageX),v=Math.ceil(l.touches[0].pageY),K=S.current-u,C=E.current-v,y=Math.abs(K)>Math.abs(C);y?S.current=u:E.current=v;var h=N(y,y?K:C,!1,l);h&&l.preventDefault(),clearInterval(d.current),h&&(d.current=setInterval(function(){y?K*=ae:C*=ae;var p=Math.floor(y?K:C);(!N(y,p,!0)||Math.abs(p)<=.1)&&clearInterval(d.current)},16))}},n=function(){o.current=!1,m()},r=function(l){m(),l.touches.length===1&&!o.current&&(o.current=!0,S.current=Math.ceil(l.touches[0].pageX),E.current=Math.ceil(l.touches[0].pageY),e.current=l.target,e.current.addEventListener("touchmove",x,{passive:!1}),e.current.addEventListener("touchend",n,{passive:!0}))};m=function(){e.current&&(e.current.removeEventListener("touchmove",x),e.current.removeEventListener("touchend",n))},(0,ne.Z)(function(){return s&&R.current.addEventListener("touchstart",r,{passive:!0}),function(){var t;(t=R.current)===null||t===void 0||t.removeEventListener("touchstart",r),m(),clearInterval(d.current)}},[s])}function Q(s){return Math.floor(Math.pow(s,.5))}function pe(s,R){var N="touches"in s?s.touches[0]:s;return N[R?"pageX":"pageY"]-window[R?"scrollX":"scrollY"]}function ge(s,R,N){c.useEffect(function(){var o=R.current;if(s&&o){var S=!1,E,e,d=function(){i.Z.cancel(E)},m=function t(){d(),E=(0,i.Z)(function(){N(e),t()})},x=function(l){if(!(l.target.draggable||l.button!==0)){var u=l;u._virtualHandled||(u._virtualHandled=!0,S=!0)}},n=function(){S=!1,d()},r=function(l){if(S){var u=pe(l,!1),v=o.getBoundingClientRect(),K=v.top,C=v.bottom;if(u<=K){var y=K-u;e=-Q(y),m()}else if(u>=C){var h=u-C;e=Q(h),m()}else d()}};return o.addEventListener("mousedown",x),o.ownerDocument.addEventListener("mouseup",n),o.ownerDocument.addEventListener("mousemove",r),function(){o.removeEventListener("mousedown",x),o.ownerDocument.removeEventListener("mouseup",n),o.ownerDocument.removeEventListener("mousemove",r),d()}}},[s])}var Se=10;function De(s,R,N,o,S,E,e,d){var m=c.useRef(),x=c.useState(null),n=(0,xe.Z)(x,2),r=n[0],t=n[1];return(0,ne.Z)(function(){if(r&&r.times<Se){if(!s.current){t(function(ze){return(0,V.Z)({},ze)});return}E();var l=r.targetAlign,u=r.originAlign,v=r.index,K=r.offset,C=s.current.clientHeight,y=!1,h=l,p=null;if(C){for(var A=l||u,O=0,k=0,W=0,H=Math.min(R.length-1,v),U=0;U<=H;U+=1){var j=S(R[U]);k=O;var oe=N.get(j);W=k+(oe===void 0?o:oe),O=W}for(var de=A==="top"?K:C-K,ue=H;ue>=0;ue-=1){var me=S(R[ue]),fe=N.get(me);if(fe===void 0){y=!0;break}if(de-=fe,de<=0)break}switch(A){case"top":p=k-K;break;case"bottom":p=W-C+K;break;default:{var be=s.current.scrollTop,Ee=be+C;k<be?h="top":W>Ee&&(h="bottom")}}p!==null&&e(p),p!==r.lastTop&&(y=!0)}y&&t((0,V.Z)((0,V.Z)({},r),{},{times:r.times+1,targetAlign:h,lastTop:p}))}},[r,s.current]),function(l){if(l==null){d();return}if(i.Z.cancel(m.current),typeof l=="number")e(l);else if(l&&(0,G.Z)(l)==="object"){var u,v=l.align;"index"in l?u=l.index:u=R.findIndex(function(y){return S(y)===l.key});var K=l.offset,C=K===void 0?0:K;t({times:0,index:u,offset:C,originAlign:v})}}}var ee=c.forwardRef(function(s,R){var N=s.prefixCls,o=s.rtl,S=s.scrollOffset,E=s.scrollRange,e=s.onStartMove,d=s.onStopMove,m=s.onScroll,x=s.horizontal,n=s.spinSize,r=s.containerSize,t=s.style,l=s.thumbStyle,u=s.showScrollBar,v=c.useState(!1),K=(0,xe.Z)(v,2),C=K[0],y=K[1],h=c.useState(null),p=(0,xe.Z)(h,2),A=p[0],O=p[1],k=c.useState(null),W=(0,xe.Z)(k,2),H=W[0],U=W[1],j=!o,oe=c.useRef(),de=c.useRef(),ue=c.useState(u),me=(0,xe.Z)(ue,2),fe=me[0],be=me[1],Ee=c.useRef(),ze=function(){u===!0||u===!1||(clearTimeout(Ee.current),be(!0),Ee.current=setTimeout(function(){be(!1)},3e3))},we=E-r||0,z=r-n||0,b=c.useMemo(function(){if(S===0||we===0)return 0;var Ae=S/we;return Ae*z},[S,we,z]),te=function(Le){Le.stopPropagation(),Le.preventDefault()},Ie=c.useRef({top:b,dragging:C,pageY:A,startTop:H});Ie.current={top:b,dragging:C,pageY:A,startTop:H};var je=function(Le){y(!0),O(pe(Le,x)),U(Ie.current.top),e(),Le.stopPropagation(),Le.preventDefault()};c.useEffect(function(){var Ae=function(rt){rt.preventDefault()},Le=oe.current,Re=de.current;return Le.addEventListener("touchstart",Ae,{passive:!1}),Re.addEventListener("touchstart",je,{passive:!1}),function(){Le.removeEventListener("touchstart",Ae),Re.removeEventListener("touchstart",je)}},[]);var Ge=c.useRef();Ge.current=we;var lt=c.useRef();lt.current=z,c.useEffect(function(){if(C){var Ae,Le=function(rt){var ct=Ie.current,vt=ct.dragging,St=ct.pageY,ht=ct.startTop;i.Z.cancel(Ae);var gt=oe.current.getBoundingClientRect(),yt=r/(x?gt.width:gt.height);if(vt){var qe=(pe(rt,x)-St)*yt,at=ht;!j&&x?at-=qe:at+=qe;var xt=Ge.current,pt=lt.current,Ne=pt?at/pt:0,We=Math.ceil(Ne*xt);We=Math.max(We,0),We=Math.min(We,xt),Ae=(0,i.Z)(function(){m(We,x)})}},Re=function(){y(!1),d()};return window.addEventListener("mousemove",Le,{passive:!0}),window.addEventListener("touchmove",Le,{passive:!0}),window.addEventListener("mouseup",Re,{passive:!0}),window.addEventListener("touchend",Re,{passive:!0}),function(){window.removeEventListener("mousemove",Le),window.removeEventListener("touchmove",Le),window.removeEventListener("mouseup",Re),window.removeEventListener("touchend",Re),i.Z.cancel(Ae)}}},[C]),c.useEffect(function(){return ze(),function(){clearTimeout(Ee.current)}},[S]),c.useImperativeHandle(R,function(){return{delayHidden:ze}});var $e="".concat(N,"-scrollbar"),Be={position:"absolute",visibility:fe?null:"hidden"},dt={position:"absolute",borderRadius:99,background:"var(--rc-virtual-list-scrollbar-bg, rgba(0, 0, 0, 0.5))",cursor:"pointer",userSelect:"none"};return x?(Object.assign(Be,{height:8,left:0,right:0,bottom:0}),Object.assign(dt,(0,ye.Z)({height:"100%",width:n},j?"left":"right",b))):(Object.assign(Be,(0,ye.Z)({width:8,top:0,bottom:0},j?"right":"left",0)),Object.assign(dt,{width:"100%",height:n,top:b})),c.createElement("div",{ref:oe,className:se()($e,(0,ye.Z)((0,ye.Z)((0,ye.Z)({},"".concat($e,"-horizontal"),x),"".concat($e,"-vertical"),!x),"".concat($e,"-visible"),fe)),style:(0,V.Z)((0,V.Z)({},Be),t),onMouseDown:te,onMouseMove:ze},c.createElement("div",{ref:de,className:se()("".concat($e,"-thumb"),(0,ye.Z)({},"".concat($e,"-thumb-moving"),C)),style:(0,V.Z)((0,V.Z)({},dt),l),onMouseDown:je}))}),Ue=ee,Ce=20;function Xe(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=s/R*s;return isNaN(N)&&(N=0),N=Math.max(N,Ce),Math.floor(N)}var Ve=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles","showScrollBar"],it=[],f={overflowY:"auto",overflowAnchor:"none"};function X(s,R){var N=s.prefixCls,o=N===void 0?"rc-virtual-list":N,S=s.className,E=s.height,e=s.itemHeight,d=s.fullHeight,m=d===void 0?!0:d,x=s.style,n=s.data,r=s.children,t=s.itemKey,l=s.virtual,u=s.direction,v=s.scrollWidth,K=s.component,C=K===void 0?"div":K,y=s.onScroll,h=s.onVirtualScroll,p=s.onVisibleChange,A=s.innerProps,O=s.extraRender,k=s.styles,W=s.showScrollBar,H=W===void 0?"optional":W,U=(0,Y.Z)(s,Ve),j=c.useCallback(function($){return typeof t=="function"?t($):$==null?void 0:$[t]},[t]),oe=ce(j,null,null),de=(0,xe.Z)(oe,4),ue=de[0],me=de[1],fe=de[2],be=de[3],Ee=!!(l!==!1&&E&&e),ze=c.useMemo(function(){return Object.values(fe.maps).reduce(function($,L){return $+L},0)},[fe.id,fe.maps]),we=Ee&&n&&(Math.max(e*n.length,ze)>E||!!v),z=u==="rtl",b=se()(o,(0,ye.Z)({},"".concat(o,"-rtl"),z),S),te=n||it,Ie=(0,c.useRef)(),je=(0,c.useRef)(),Ge=(0,c.useRef)(),lt=(0,c.useState)(0),$e=(0,xe.Z)(lt,2),Be=$e[0],dt=$e[1],Ae=(0,c.useState)(0),Le=(0,xe.Z)(Ae,2),Re=Le[0],Ye=Le[1],rt=(0,c.useState)(!1),ct=(0,xe.Z)(rt,2),vt=ct[0],St=ct[1],ht=function(){St(!0)},gt=function(){St(!1)},yt={getKey:j};function qe($){dt(function(L){var _;typeof $=="function"?_=$(L):_=$;var Me=Qt(_);return Ie.current.scrollTop=Me,Me})}var at=(0,c.useRef)({start:0,end:te.length}),xt=(0,c.useRef)(),pt=re(te,j),Ne=(0,xe.Z)(pt,1),We=Ne[0];xt.current=We;var et=c.useMemo(function(){if(!Ee)return{scrollHeight:void 0,start:0,end:te.length-1,offset:void 0};if(!we){var $;return{scrollHeight:(($=je.current)===null||$===void 0?void 0:$.offsetHeight)||0,start:0,end:te.length-1,offset:void 0}}for(var L=0,_,Me,Fe,Dt=te.length,Kt=0;Kt<Dt;Kt+=1){var Lt=te[Kt],on=j(Lt),Gt=fe.get(on),wt=L+(Gt===void 0?e:Gt);wt>=Be&&_===void 0&&(_=Kt,Me=L),wt>Be+E&&Fe===void 0&&(Fe=Kt),L=wt}return _===void 0&&(_=0,Me=0,Fe=Math.ceil(E/e)),Fe===void 0&&(Fe=te.length-1),Fe=Math.min(Fe+1,te.length-1),{scrollHeight:L,start:_,end:Fe,offset:Me}},[we,Ee,Be,te,be,E]),tt=et.scrollHeight,nt=et.start,st=et.end,mt=et.offset;at.current.start=nt,at.current.end=st,c.useLayoutEffect(function(){var $=fe.getRecord();if($.size===1){var L=Array.from($.keys())[0],_=$.get(L),Me=te[nt];if(Me&&_===void 0){var Fe=j(Me);if(Fe===L){var Dt=fe.get(L),Kt=Dt-e;qe(function(Lt){return Lt+Kt})}}}fe.resetRecord()},[tt]);var Et=c.useState({width:0,height:E}),ut=(0,xe.Z)(Et,2),ot=ut[0],Yt=ut[1],Xt=function(L){Yt({width:L.offsetWidth,height:L.offsetHeight})},It=(0,c.useRef)(),At=(0,c.useRef)(),Vt=c.useMemo(function(){return Xe(ot.width,v)},[ot.width,v]),Jt=c.useMemo(function(){return Xe(ot.height,tt)},[ot.height,tt]),bt=tt-E,Rt=(0,c.useRef)(bt);Rt.current=bt;function Qt($){var L=$;return Number.isNaN(Rt.current)||(L=Math.min(L,Rt.current)),L=Math.max(L,0),L}var Nt=Be<=0,Zt=Be>=bt,$t=Re<=0,Bt=Re>=v,_t=M(Nt,Zt,$t,Bt),Mt=function(){return{x:z?-Re:Re,y:Be}},Pt=(0,c.useRef)(Mt()),kt=(0,Z.zX)(function($){if(h){var L=(0,V.Z)((0,V.Z)({},Mt()),$);(Pt.current.x!==L.x||Pt.current.y!==L.y)&&(h(L),Pt.current=L)}});function Ft($,L){var _=$;L?((0,q.flushSync)(function(){Ye(_)}),kt()):qe(_)}function qt($){var L=$.currentTarget.scrollTop;L!==Be&&qe(L),y==null||y($),kt()}var Ot=function(L){var _=L,Me=v?v-ot.width:0;return _=Math.max(_,0),_=Math.min(_,Me),_},en=(0,Z.zX)(function($,L){L?((0,q.flushSync)(function(){Ye(function(_){var Me=_+(z?-$:$);return Ot(Me)})}),kt()):qe(function(_){var Me=_+$;return Me})}),tn=P(Ee,Nt,Zt,$t,Bt,!!v,en),Wt=(0,xe.Z)(tn,2),Tt=Wt[0],Ht=Wt[1];he(Ee,Ie,function($,L,_,Me){var Fe=Me;return _t($,L,_)?!1:!Fe||!Fe._virtualHandled?(Fe&&(Fe._virtualHandled=!0),Tt({preventDefault:function(){},deltaX:$?L:0,deltaY:$?0:L}),!0):!1}),ge(we,Ie,function($){qe(function(L){return L+$})}),(0,ne.Z)(function(){function $(_){var Me=Nt&&_.detail<0,Fe=Zt&&_.detail>0;Ee&&!Me&&!Fe&&_.preventDefault()}var L=Ie.current;return L.addEventListener("wheel",Tt,{passive:!1}),L.addEventListener("DOMMouseScroll",Ht,{passive:!0}),L.addEventListener("MozMousePixelScroll",$,{passive:!1}),function(){L.removeEventListener("wheel",Tt),L.removeEventListener("DOMMouseScroll",Ht),L.removeEventListener("MozMousePixelScroll",$)}},[Ee,Nt,Zt]),(0,ne.Z)(function(){if(v){var $=Ot(Re);Ye($),kt({x:$})}},[ot.width,v]);var Ut=function(){var L,_;(L=It.current)===null||L===void 0||L.delayHidden(),(_=At.current)===null||_===void 0||_.delayHidden()},zt=De(Ie,te,fe,e,j,function(){return me(!0)},qe,Ut);c.useImperativeHandle(R,function(){return{nativeElement:Ge.current,getScrollInfo:Mt,scrollTo:function(L){function _(Me){return Me&&(0,G.Z)(Me)==="object"&&("left"in Me||"top"in Me)}_(L)?(L.left!==void 0&&Ye(Ot(L.left)),zt(L.top)):zt(L)}}}),(0,ne.Z)(function(){if(p){var $=te.slice(nt,st+1);p($,te)}},[nt,st,te]);var nn=I(te,j,fe,e),rn=O==null?void 0:O({start:nt,end:st,virtual:we,offsetX:Re,offsetY:mt,rtl:z,getSize:nn}),an=ke(te,nt,st,v,Re,ue,r,yt),Ct=null;E&&(Ct=(0,V.Z)((0,ye.Z)({},m?"height":"maxHeight",E),f),Ee&&(Ct.overflowY="hidden",v&&(Ct.overflowX="hidden"),vt&&(Ct.pointerEvents="none")));var jt={};return z&&(jt.dir="rtl"),c.createElement("div",(0,Oe.Z)({ref:Ge,style:(0,V.Z)((0,V.Z)({},x),{},{position:"relative"}),className:b},jt,U),c.createElement(Ze.Z,{onResize:Xt},c.createElement(C,{className:"".concat(o,"-holder"),style:Ct,ref:Ie,onScroll:qt,onMouseEnter:Ut},c.createElement(Pe,{prefixCls:o,height:tt,offsetX:Re,offsetY:mt,scrollWidth:v,onInnerResize:me,ref:je,innerProps:A,rtl:z,extra:rn},an))),we&&tt>E&&c.createElement(Ue,{ref:It,prefixCls:o,scrollOffset:Be,scrollRange:tt,rtl:z,onScroll:Ft,onStartMove:ht,onStopMove:gt,spinSize:Jt,containerSize:ot.height,style:k==null?void 0:k.verticalScrollBar,thumbStyle:k==null?void 0:k.verticalScrollBarThumb,showScrollBar:H}),we&&v>ot.width&&c.createElement(Ue,{ref:At,prefixCls:o,scrollOffset:Re,scrollRange:v,rtl:z,onScroll:Ft,onStartMove:ht,onStopMove:gt,spinSize:Vt,containerSize:ot.width,horizontal:!0,style:k==null?void 0:k.horizontalScrollBar,thumbStyle:k==null?void 0:k.horizontalScrollBarThumb,showScrollBar:H}))}var _e=c.forwardRef(X);_e.displayName="List";var Je=_e,Qe=Je}}]);
